{"version":3,"file":"types.js","sourceRoot":"","sources":["../../../../dev/addons/src/navigation/types.ts"],"names":[],"mappings":"AAqKA;;GAEG;AACH,MAAM,CAAC,MAAM,gBAAgB,GAAG;IAC5B,yBAAyB,EAAE,2BAA2B;IACtD,uBAAuB,EAAE,yBAAyB;IAClD,gBAAgB,EAAE,kBAAkB;IACpC,qBAAqB,EAAE,uBAAuB;IAC9C,sCAAsC,EAAE,wCAAwC;CACnF,CAAC","sourcesContent":["import type { NavMesh, NavMeshQuery, TileCache, TileCacheMeshProcess } from \"@recast-navigation/core\";\nimport type { SoloNavMeshGeneratorIntermediates, TileCacheGeneratorIntermediates, TiledNavMeshGeneratorIntermediates } from \"@recast-navigation/generators\";\n\nimport type { IVector3Like } from \"core/Maths/math.like\";\nimport type { Vector3 } from \"core/Maths/math.vector\";\nimport type { IAgentParameters, INavMeshParameters } from \"core/Navigation/INavigationEngine\";\nimport type { Nullable } from \"core/types\";\n\n/**\n * Recast injection type\n */\nexport type RecastInjection = any; // typeof import(\"@recast-navigation/core\") & typeof import(\"@recast-navigation/generators\");\n\n/**\n * Off-mesh connection data\n */\nexport interface IOffMeshConnection {\n    /**\n     * The start position of the off-mesh connection.\n     */\n    startPosition: IVector3Like;\n    /**\n     * The end position of the off-mesh connection.\n     */\n    endPosition: IVector3Like;\n    /**\n     * The radius of the off-mesh connection.\n     */\n    radius: number;\n    /**\n     * The type of the off-mesh connection.\n     */\n    bidirectional: boolean;\n    /**\n     * The area type of the off-mesh connection.\n     */\n    area: number;\n    /**\n     * The flags of the off-mesh connection.\n     */\n    flags: number;\n    /**\n     * The user ID of the off-mesh connection.\n     * @remarks This can be used to associate the off-mesh connection with a specific user\n     */\n    userId?: number;\n}\n\n/**\n * Result of a navigation mesh creation.\n */\nexport type CreateNavMeshResult = Nullable<{\n    /**\n     * Navigation mesh\n     */\n    navMesh: NavMesh;\n    /**\n     * Navigation mesh query\n     */\n    navMeshQuery: NavMeshQuery;\n    /**\n     * Intermediates generated during the NavMesh creation process.\n     * @remarks This is only available if the `keepIntermediates` parameter is set to true in the `INavMeshParametersV2`.\n     * It can be used for debugging or visualization purposes.\n     */\n    intermediates?: GeneratorIntermediates;\n    /**\n     * Tile cache generated during the NavMesh creation process.\n     * @remarks This is only available if the `maxObstacles` parameter is set to a value greater than 0 in the `INavMeshParametersV2`. Defaults `maxObstacles` to 128.\n     * It can be used for obstacle avoidance and dynamic navigation mesh updates.\n     * @see {@link INavMeshParametersV2}\n     */\n    tileCache?: TileCache;\n}>;\n\n/**\n * Agent parameters\n * For actual limits and default values check the recast-navigation-js docs.\n * @see https://docs.recast-navigation-js.isaacmason.com/types/index.CrowdAgentParams.html\n */\nexport interface IAgentParametersV2 extends IAgentParameters {\n    /**\n     * Flags that impact steering behavior.\n     */\n    updateFlags: number;\n    /**\n     * The index of the avoidance configuration to use for the agent. [Limits: 0 to #DT_CROWD_MAX_OBSTAVOIDANCE_PARAMS inclusive]\n     */\n    obstacleAvoidanceType: number;\n    /**\n     * The index of the query filter used by this agent.\n     */\n    queryFilterType: number;\n    /**\n     * User defined data attached to the agent.\n     */\n    userData: unknown;\n}\n\n/**\n * NavMesh parameters\n * For actual limits and default values check the recast-navigation-js docs.\n * @see https://docs.recast-navigation-js.isaacmason.com/types/index.RecastConfig.html\n */\nexport interface INavMeshParametersV2 extends INavMeshParameters {\n    /**\n     * OffMeshConnections - Teleports\n     */\n    offMeshConnections?: IOffMeshConnection[];\n    /**\n     * Whether to keep intermediate navigation mesh data for debug visualization. Default is false.\n     */\n    keepIntermediates?: boolean;\n    /**\n     * The maximum number of obstacles that can be added to the navigation mesh. Default is 32.\n     * If this value is greater then 0, the navigation mesh will be generated with a tile cache.\n     */\n    maxObstacles?: number;\n    /**\n     * The size of each tile in the tiled navigation mesh. Default is 32.\n     */\n    expectedLayersPerTile?: number;\n    /**\n     * Function which is sets the polyAreas and polyFlags for the tile cache mesh. Defaults to a function that sets all areas to 0 and flags to 1.\n     */\n    tileCacheMeshProcess?: TileCacheMeshProcess;\n    /**\n     * Don't reverse indices of the source mesh\n     */\n    doNotReverseIndices?: boolean;\n}\n\n/**\n * Result of a steer target computation.\n */\nexport type SteerTargetResult =\n    | {\n          /**\n           * Indicates whether the steering target computation was successful.\n           */\n          success: false;\n      }\n    | {\n          /**\n           * Indicates whether the steering target computation was successful.\n           */\n          success: true;\n          /**\n           * The position to steer towards.\n           */\n          steerPos: Vector3;\n          /**\n           * The flag indicating the type of steering position.\n           */\n          steerPosFlag: number;\n          /**\n           * The reference to the polygon that the steering position is associated with.\n           */\n          steerPosRef: number;\n          /**\n           * The points that make up the path to the steering position.\n           */\n          points: Vector3[];\n      };\n\n/**\n * Error types for path computation.\n */\nexport const ComputePathError = {\n    START_NEAREST_POLY_FAILED: \"START_NEAREST_POLY_FAILED\",\n    END_NEAREST_POLY_FAILED: \"END_NEAREST_POLY_FAILED\",\n    FIND_PATH_FAILED: \"FIND_PATH_FAILED\",\n    NO_POLYGON_PATH_FOUND: \"NO_POLYGON_PATH_FOUND\",\n    NO_CLOSEST_POINT_ON_LAST_POLYGON_FOUND: \"NO_CLOSEST_POINT_ON_LAST_POLYGON_FOUND\",\n};\n\nexport type ComputePathErrorType = (typeof ComputePathError)[keyof typeof ComputePathError];\n\n/**\n * Result of a path computation.\n */\nexport type ComputePathResult = {\n    /**\n     * Indicates whether the path computation was successful.\n     */\n    success: boolean;\n    /**\n     * The error message if the path computation failed.\n     */\n    error?: {\n        /**\n         * A descriptive error message.\n         */\n        name?: string;\n        /**\n         * The type of error that occurred during path computation.\n         * @remarks This will be one of the values from `ComputePathError`\n         */\n        type?: ComputePathErrorType;\n        /**\n         * Statusring describing the error.\n         */\n        status?: number;\n    };\n    /**\n     * The computed path as an array of Vector3 points.\n     */\n    path: IVector3Like[];\n};\n\n/**\n * Intermediates generated during the NavMesh creation process.\n * @remarks This is only available if the `keepIntermediates` parameter is set to true in the `INavMeshParametersV2`.\n * It can be used for debugging or visualization purposes.\n */\nexport type GeneratorIntermediates = SoloNavMeshGeneratorIntermediates | TiledNavMeshGeneratorIntermediates | TileCacheGeneratorIntermediates | null;\n"]}