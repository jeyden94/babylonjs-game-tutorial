{"version":3,"file":"NavigationDebugger.js","sourceRoot":"","sources":["../../../../../dev/addons/src/navigation/debug/NavigationDebugger.ts"],"names":[],"mappings":"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","sourcesContent":["import type {\n    DebugDrawerPrimitive,\n    DebugDrawerPrimitiveType,\n    NavMesh,\n    NavMeshQuery,\n    RecastCompactHeightfield,\n    RecastContourSet,\n    RecastHeightfield,\n    RecastHeightfieldLayer,\n    RecastHeightfieldLayerSet,\n    RecastPolyMesh,\n    RecastPolyMeshDetail,\n    DebugDrawerUtils,\n} from \"@recast-navigation/core\";\n\nimport type { GreasedLineMaterialOptions } from \"core/Materials/GreasedLine/greasedLineMaterialInterfaces\";\nimport { StandardMaterial } from \"core/Materials/standardMaterial\";\nimport { Color3 } from \"core/Maths/math.color\";\nimport { Matrix } from \"core/Maths/math.vector\";\nimport { CreateGreasedLine } from \"core/Meshes/Builders/greasedLineBuilder\";\nimport type { GreasedLineBaseMesh, GreasedLineMeshOptions } from \"core/Meshes/GreasedLine/greasedLineBaseMesh\";\nimport { Mesh } from \"core/Meshes/mesh\";\nimport { VertexData } from \"core/Meshes/mesh.vertexData\";\nimport { TransformNode } from \"core/Meshes/transformNode\";\nimport type { Scene } from \"core/scene\";\nimport type { Nullable } from \"core/types\";\nimport { CreateBox } from \"core/Meshes/Builders/boxBuilder\";\nimport { Logger } from \"core/Misc/logger\";\n\nimport type { GeneratorIntermediates } from \"../types\";\nimport { GetRecast } from \"../factory/common\";\n\n// TODO: Enum?\nexport const DebugLayerOption = {\n    HEIGHTFIELD_SOLID: \"heightfield solid\",\n    HEIGHTFIELD_WALKABLE: \"heightfield walkable\",\n    COMPACT_HEIGHTFIELD_SOLID: \"compact heightfield solid\",\n    COMPACT_HEIGHTFIELD_REGIONS: \"compact heightfield regions\",\n    COMPACT_HEIGHTFIELD_DISTANCE: \"compact heightfield distance\",\n    RAW_CONTOURS: \"raw contours\",\n    CONTOURS: \"contours\",\n    POLY_MESH: \"poly mesh\",\n    POLY_MESH_DETAIL: \"poly mesh detail\",\n    NAVMESH: \"navmesh\",\n    NAVMESH_BV_TREE: \"navmesh bv tree\",\n};\n\nexport type DebugLayerOptions = (typeof DebugLayerOption)[keyof typeof DebugLayerOption];\n\n/**\n * NavigationDebugger is a utility class for visualizing navigation meshes and related data in a Babylon.js scene.\n * It provides methods to draw various navigation-related primitives such as points, lines, triangles, and quads.\n * It also supports drawing heightfields, compact heightfields, contours, poly meshes, and nav meshes.\n */\nexport class NavigationDebugger {\n    /**\n     *  The name of the debug mesh used for navigation debugging.\n     *  This is used to group all navigation debug meshes under a single name for easier management\n     */\n    public static NAV_MESH_DEBUG_NAME = \"nav-mesh-debug\";\n\n    /**\n     * The name of the debug mesh used for visualization of the navigation mesh using points.\n     */\n    public static NAV_MESH_DEBUG_NAME_POINTS = \"nav-mesh-debug-points\";\n\n    /**\n     * The name of the debug mesh used for visualization of the navigation mesh using triangles.\n     */\n    public static NAV_MESH_DEBUG_NAME_TRIS = \"nav-mesh-debug-tris\";\n\n    /**\n     * The name of the debug mesh used for visualization of the navigation mesh using quads.\n     */\n    public static NAV_MESH_DEBUG_NAME_QUADS = \"nav-mesh-debug-quads\";\n\n    /**\n     * The name of the debug mesh used for visualization of the navigation mesh using lines.\n     */\n    public static NAV_MESH_DEBUG_NAME_LINES = \"nav-mesh-debug-lines\";\n\n    /**\n     * The material used for rendering triangles in the navigation debug visualization.\n     */\n    public triMaterial: StandardMaterial;\n    /**\n     * The material used for rendering points in the navigation debug visualization.\n     */\n    public pointMaterial: StandardMaterial;\n\n    /**\n     * The list of line materials used in the navigation debug visualization.\n     */\n    public lineMaterials: StandardMaterial[] = [];\n\n    /**\n     * The parent node for the debug drawer.\n     */\n    public debugDrawerParentNode: TransformNode;\n\n    /**\n     * * Gets or sets the primitive types to be drawn by the debug drawer.\n     * * This allows you to control which types of primitives (points, lines, tris, quads) are rendered in the navigation debug visualization.\n     * * The default value is `[\"points\", \"lines\", \"tris\", \"quads\"]`.\n     * * You can modify this property to include or exclude specific primitive types based on your debugging needs.\n     * @returns An array of primitive types that the debug drawer will render.\n     */\n    public get primitiveTypes(): DebugDrawerPrimitiveType[] {\n        return this._primitiveTypes;\n    }\n\n    public set primitiveTypes(value: DebugDrawerPrimitiveType[]) {\n        this._primitiveTypes = value;\n    }\n\n    private _lineMaterialOptions: {\n        greasedLineMaterialOptions: Partial<GreasedLineMaterialOptions>;\n        greasedLineMeshOptions: Partial<GreasedLineMeshOptions>;\n    };\n    private _pointMesh: Mesh;\n    private _debugDrawerUtils: DebugDrawerUtils;\n    private _primitiveTypes: DebugDrawerPrimitiveType[];\n\n    constructor(\n        private _scene: Scene,\n        options?: {\n            parent?: {\n                node?: TransformNode | string;\n            };\n            primitiveTypes?: DebugDrawerPrimitiveType[];\n            materials?: {\n                triMaterial?: StandardMaterial;\n                pointMaterial?: StandardMaterial;\n                lineMaterialOptions: {\n                    greasedLineMaterialOptions: Partial<GreasedLineMaterialOptions>;\n                    greasedLineMeshOptions: Partial<GreasedLineMeshOptions>;\n                };\n            };\n        }\n    ) {\n        this._debugDrawerUtils = new (GetRecast().DebugDrawerUtils)();\n\n        this._primitiveTypes = options?.primitiveTypes ?? [\"points\", \"lines\", \"tris\", \"quads\"];\n\n        this.debugDrawerParentNode =\n            options?.parent?.node instanceof TransformNode ? options.parent.node : new TransformNode((options?.parent?.node as string) ?? \"nav-mesh-debug-parent\", this._scene);\n\n        const materials = options?.materials;\n        if (materials?.triMaterial) {\n            this.triMaterial = materials.triMaterial;\n        } else {\n            this.triMaterial = new StandardMaterial(\"nav-debug-tris-material\");\n            this.triMaterial.backFaceCulling = false;\n            this.triMaterial.specularColor = Color3.Black();\n            this.triMaterial.alpha = 0.5;\n        }\n\n        if (materials?.pointMaterial) {\n            this.pointMaterial = materials.pointMaterial;\n        } else {\n            this.pointMaterial = new StandardMaterial(\"nav-debug-points-material\");\n            this.pointMaterial.backFaceCulling = false;\n            this.pointMaterial.specularColor = Color3.Black();\n        }\n\n        if (materials?.lineMaterialOptions) {\n            this._lineMaterialOptions = materials.lineMaterialOptions;\n        } else {\n            this._lineMaterialOptions = {\n                greasedLineMaterialOptions: {\n                    width: 2,\n                    sizeAttenuation: true,\n                },\n                greasedLineMeshOptions: {},\n            };\n        }\n\n        this._pointMesh = CreateBox(NavigationDebugger.NAV_MESH_DEBUG_NAME_POINTS, { size: 0.02 });\n    }\n\n    /**\n     * Resets the debug drawer by disposing of all child meshes in the debug drawer parent node.\n     * This is useful for clearing the debug visualization before drawing new primitives.\n     */\n    public clear() {\n        for (const child of this.debugDrawerParentNode.getChildMeshes()) {\n            child.dispose();\n        }\n    }\n\n    /**\n     * Disposes of the debug drawer, including all meshes and materials used for rendering.\n     * This method should be called when the debug drawer is no longer needed to free up resources.\n     */\n    public dispose() {\n        this.clear();\n        this._debugDrawerUtils.dispose();\n        this._pointMesh.dispose();\n        this.triMaterial.dispose();\n        this.pointMaterial.dispose();\n    }\n\n    /**\n     * This method iterates through the provided primitives and draws them based on their type.\n     * It supports drawing points, lines, triangles, and quads, depending on the primitive type.\n     * @param primitives An array of debug drawer primitives to be drawn.\n     * @param options Optional parameters to control the drawing behavior, such as whether to join meshes.\n     */\n    public drawPrimitives(primitives: DebugDrawerPrimitive[], options?: { joinMeshes?: boolean }) {\n        let linesInstance = null;\n\n        for (const primitive of primitives) {\n            // draw only the primitives that are in the primitiveTypes array\n            if (!this._primitiveTypes.includes(primitive.type)) {\n                continue;\n            }\n\n            switch (primitive.type) {\n                case \"points\":\n                    this._drawPoints(primitive);\n                    break;\n                case \"lines\": {\n                    const line = this._drawLines(primitive, linesInstance);\n                    if (!linesInstance) {\n                        linesInstance = line;\n                    }\n                    break;\n                }\n                case \"tris\":\n                    this._drawTris(primitive);\n                    break;\n                case \"quads\":\n                    this._drawQuads(primitive);\n                    break;\n            }\n        }\n\n        linesInstance?.updateLazy();\n\n        if (options?.joinMeshes ?? true) {\n            // Join the debug meshes into a single mesh for better performance\n            this._joinDebugMeshes();\n        }\n    }\n\n    /**\n     * Draws a heightfield as solid using the debug drawer utilities.\n     * @param hf The heightfield to draw as solid.\n     */\n    public drawHeightfieldSolid(hf: RecastHeightfield): void {\n        const primitives = this._debugDrawerUtils.drawHeightfieldSolid(hf);\n        this.drawPrimitives(primitives);\n    }\n\n    /**\n     * Draws a heightfield as walkable using the debug drawer utilities.\n     * @param hf The heightfield to draw as walkable.\n     */\n    public drawHeightfieldWalkable(hf: RecastHeightfield): void {\n        const primitives = this._debugDrawerUtils.drawHeightfieldWalkable(hf);\n        this.drawPrimitives(primitives);\n    }\n\n    /**\n     * Draws a compact heightfield as solid using the debug drawer utilities.\n     * @param chf The compact heightfield to draw as solid.\n     */\n    public drawCompactHeightfieldSolid(chf: RecastCompactHeightfield): void {\n        const primitives = this._debugDrawerUtils.drawCompactHeightfieldSolid(chf);\n        this.drawPrimitives(primitives);\n    }\n\n    /**\n     * Draws the regions of a compact heightfield using the debug drawer utilities.\n     * @param chf The compact heightfield to draw regions for.\n     */\n    public drawCompactHeightfieldRegions(chf: RecastCompactHeightfield): void {\n        const primitives = this._debugDrawerUtils.drawCompactHeightfieldRegions(chf);\n        this.drawPrimitives(primitives);\n    }\n\n    /**\n     * Draws the distance field of a compact heightfield using the debug drawer utilities.\n     * @param chf The compact heightfield to draw the distance for.\n     */\n    public drawCompactHeightfieldDistance(chf: RecastCompactHeightfield): void {\n        const primitives = this._debugDrawerUtils.drawCompactHeightfieldDistance(chf);\n        this.drawPrimitives(primitives);\n    }\n\n    /**\n     * Draws a heightfield layer using the debug drawer utilities.\n     * @param layer The heightfield layer to draw.\n     * @param idx The index of the layer to draw.\n     */\n    public drawHeightfieldLayer(layer: RecastHeightfieldLayer, idx: number): void {\n        const primitives = this._debugDrawerUtils.drawHeightfieldLayer(layer, idx);\n        this.drawPrimitives(primitives);\n    }\n\n    /**\n     * Draws the layers of a heightfield using the debug drawer utilities.\n     * @param lset The heightfield layer set containing the layers to draw.\n     */\n    public drawHeightfieldLayers(lset: RecastHeightfieldLayerSet): void {\n        const primitives = this._debugDrawerUtils.drawHeightfieldLayers(lset);\n        this.drawPrimitives(primitives);\n    }\n\n    /**\n     * Draws the region connections of a RecastContourSet using the debug drawer utilities.\n     * @param cset RecastContourSet to draw\n     * @param alpha The alpha value for the drawn contours, default is 1.\n     */\n    public drawRegionConnections(cset: RecastContourSet, alpha: number = 1): void {\n        const primitives = this._debugDrawerUtils.drawRegionConnections(cset, alpha);\n        this.drawPrimitives(primitives);\n    }\n\n    /**\n     * Draws raw contours from a RecastContourSet using the debug drawer utilities.\n     * @param cset RecastContourSet to draw\n     * @param alpha The alpha value for the drawn contours, default is 1.\n     */\n    public drawRawContours(cset: RecastContourSet, alpha: number = 1): void {\n        const primitives = this._debugDrawerUtils.drawRawContours(cset, alpha);\n        this.drawPrimitives(primitives);\n    }\n\n    /**\n     * Draws contours from a RecastContourSet using the debug drawer utilities.\n     * @param cset RecastContourSet to draw\n     * @param alpha The alpha value for the drawn contours, default is 1.\n     */\n    public drawContours(cset: RecastContourSet, alpha: number = 1): void {\n        const primitives = this._debugDrawerUtils.drawContours(cset, alpha);\n        this.drawPrimitives(primitives);\n    }\n\n    /**\n     * Draws a poly mesh using the debug drawer utilities.\n     * @param mesh RecastPolyMesh to draw\n     */\n    public drawPolyMesh(mesh: RecastPolyMesh): void {\n        const primitives = this._debugDrawerUtils.drawPolyMesh(mesh);\n        this.drawPrimitives(primitives);\n    }\n\n    /**\n     * Draws a poly mesh detail using the debug drawer utilities.\n     * @param dmesh RecastPolyMeshDetail to draw\n     */\n    public drawPolyMeshDetail(dmesh: RecastPolyMeshDetail): void {\n        const primitives = this._debugDrawerUtils.drawPolyMeshDetail(dmesh);\n        this.drawPrimitives(primitives);\n    }\n\n    /**\n     * Draws a NavMesh using the debug drawer utilities.\n     * @param mesh NavMesh to draw\n     * @param flags Flags to control the drawing behavior, default is 0.\n     */\n    public drawNavMesh(mesh: NavMesh, flags: number = 0): void {\n        const primitives = this._debugDrawerUtils.drawNavMesh(mesh, flags);\n        this.drawPrimitives(primitives);\n    }\n\n    // todo:\n    // - drawTileCacheLayerAreas\n    // - drawTileCacheLayerRegions\n    // - drawTileCacheContours\n    // - drawTileCachePolyMesh\n\n    /**\n     * Draws a NavMesh with closed list using the debug drawer utilities.\n     * @param mesh NavMesh to draw\n     * @param query NavMeshQuery to use for drawing the closed list.\n     * @param flags Flags to control the drawing behavior, default is 0.\n     */\n    public drawNavMeshWithClosedList(mesh: NavMesh, query: NavMeshQuery, flags: number = 0): void {\n        const primitives = this._debugDrawerUtils.drawNavMeshWithClosedList(mesh, query, flags);\n        this.drawPrimitives(primitives);\n    }\n\n    /**\n     * Draws the nodes of a NavMesh using the debug drawer utilities.\n     * @param query NavMeshQuery to use for drawing the nodes.\n     */\n    public drawNavMeshNodes(query: NavMeshQuery): void {\n        const primitives = this._debugDrawerUtils.drawNavMeshNodes(query);\n        this.drawPrimitives(primitives);\n    }\n\n    /**\n     * Draws the bounding volume tree of a NavMesh using the debug drawer utilities.\n     * @param mesh NavMesh to draw the bounding volume tree for.\n     */\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    public drawNavMeshBVTree(mesh: NavMesh): void {\n        const primitives = this._debugDrawerUtils.drawNavMeshBVTree(mesh);\n        this.drawPrimitives(primitives);\n    }\n\n    /**\n     * Draws the portals of a NavMesh using the debug drawer utilities.\n     * @param mesh NavMesh to draw the portals for.\n     */\n    public drawNavMeshPortals(mesh: NavMesh): void {\n        const primitives = this._debugDrawerUtils.drawNavMeshPortals(mesh);\n        this.drawPrimitives(primitives);\n    }\n\n    /**\n     * Draws polygons of a NavMesh with specific flags using the debug drawer utilities.\n     * @param mesh NavMesh to draw the polygons with specific flags.\n     * @param flags The flags to filter the polygons to be drawn.\n     * @param col The color to use for the drawn polygons, represented as a number.\n     */\n    public drawNavMeshPolysWithFlags(mesh: NavMesh, flags: number, col: number): void {\n        const primitives = this._debugDrawerUtils.drawNavMeshPolysWithFlags(mesh, flags, col);\n        this.drawPrimitives(primitives);\n    }\n\n    /**\n     * Draws polygons of a NavMesh with specific reference and color using the debug drawer utilities.\n     * @param mesh NavMesh to draw the polygons with specific reference and color.\n     * @param ref The reference number of the polygons to be drawn.\n     * @param col The color to use for the drawn polygons, represented as a number.\n     */\n    public drawNavMeshPoly(mesh: NavMesh, ref: number, col: number): void {\n        const primitives = this._debugDrawerUtils.drawNavMeshPoly(mesh, ref, col);\n        this.drawPrimitives(primitives);\n    }\n\n    /**\n     *  Get the intermediates from the generator\n     *  @param intermediates - The generator intermediates\n     *  @returns An object containing lists of heightfields, compact heightfields, contour sets\n     */\n    public getIntermediates = (intermediates: GeneratorIntermediates) => {\n        const heightfieldList: RecastHeightfield[] = [];\n        const compactHeightfieldList: RecastCompactHeightfield[] = [];\n        const contourSetList: RecastContourSet[] = [];\n        const polyMeshList: RecastPolyMesh[] = [];\n        const polyMeshDetailList: RecastPolyMeshDetail[] = [];\n\n        if (intermediates) {\n            if (intermediates.type === \"solo\") {\n                if (intermediates.heightfield) {\n                    heightfieldList.push(intermediates.heightfield);\n                }\n\n                if (intermediates.compactHeightfield) {\n                    compactHeightfieldList.push(intermediates.compactHeightfield);\n                }\n\n                if (intermediates.contourSet) {\n                    contourSetList.push(intermediates.contourSet);\n                }\n\n                if (intermediates.polyMesh) {\n                    polyMeshList.push(intermediates.polyMesh);\n                }\n\n                if (intermediates.polyMeshDetail) {\n                    polyMeshDetailList.push(intermediates.polyMeshDetail);\n                }\n            } else if (intermediates.type === \"tiled\") {\n                for (const tile of intermediates.tileIntermediates) {\n                    if (tile.heightfield) {\n                        heightfieldList.push(tile.heightfield);\n                    }\n\n                    if (tile.compactHeightfield) {\n                        compactHeightfieldList.push(tile.compactHeightfield);\n                    }\n\n                    if (tile.contourSet) {\n                        contourSetList.push(tile.contourSet);\n                    }\n\n                    if (tile.polyMesh) {\n                        polyMeshList.push(tile.polyMesh);\n                    }\n\n                    if (tile.polyMeshDetail) {\n                        polyMeshDetailList.push(tile.polyMeshDetail);\n                    }\n                }\n            } else if (intermediates.type === \"tilecache\") {\n                for (const tile of intermediates.tileIntermediates) {\n                    if (tile.heightfield) {\n                        heightfieldList.push(tile.heightfield);\n                    }\n\n                    if (tile.compactHeightfield) {\n                        compactHeightfieldList.push(tile.compactHeightfield);\n                    }\n                }\n            }\n        }\n\n        return {\n            heightfieldList,\n            compactHeightfieldList,\n            contourSetList,\n            polyMeshList,\n            polyMeshDetailList,\n        };\n    };\n\n    /**\n     *  Draw debug information based on the selected option\n     *  @param navMesh - The navigation mesh to draw\n     *  @param intermediates - The generator intermediates containing the data to draw\n     *  @param scene - The scene to draw in\n     *  @param option - The debug drawer option to use\n     *  @remarks This method will reset the debug drawer before drawing.\n     */\n    public draw(navMesh: NavMesh, intermediates: GeneratorIntermediates, scene: Scene, option: DebugLayerOptions) {\n        this.clear();\n\n        const { heightfieldList, compactHeightfieldList, contourSetList, polyMeshList, polyMeshDetailList } = this.getIntermediates(intermediates);\n\n        if (option === DebugLayerOption.HEIGHTFIELD_SOLID) {\n            for (const heightfield of heightfieldList) {\n                this.drawHeightfieldSolid(heightfield);\n            }\n        } else if (option === DebugLayerOption.HEIGHTFIELD_WALKABLE) {\n            for (const heightfield of heightfieldList) {\n                this.drawHeightfieldWalkable(heightfield);\n            }\n        } else if (option === DebugLayerOption.COMPACT_HEIGHTFIELD_SOLID) {\n            for (const compactHeightfield of compactHeightfieldList) {\n                this.drawCompactHeightfieldSolid(compactHeightfield);\n            }\n        } else if (option === DebugLayerOption.COMPACT_HEIGHTFIELD_REGIONS) {\n            for (const compactHeightfield of compactHeightfieldList) {\n                this.drawCompactHeightfieldRegions(compactHeightfield);\n            }\n        } else if (option === DebugLayerOption.COMPACT_HEIGHTFIELD_DISTANCE) {\n            for (const compactHeightfield of compactHeightfieldList) {\n                this.drawCompactHeightfieldDistance(compactHeightfield);\n            }\n        } else if (option === DebugLayerOption.RAW_CONTOURS) {\n            for (const contourSet of contourSetList) {\n                this.drawRawContours(contourSet);\n            }\n        } else if (option === DebugLayerOption.CONTOURS) {\n            for (const contourSet of contourSetList) {\n                this.drawContours(contourSet);\n            }\n        } else if (option === DebugLayerOption.POLY_MESH) {\n            for (const polyMesh of polyMeshList) {\n                this.drawPolyMesh(polyMesh);\n            }\n        } else if (option === DebugLayerOption.POLY_MESH_DETAIL) {\n            for (const polyMeshDetail of polyMeshDetailList) {\n                this.drawPolyMeshDetail(polyMeshDetail);\n            }\n        } else if (option === DebugLayerOption.NAVMESH) {\n            this.drawNavMesh(navMesh);\n        } else if (option === DebugLayerOption.NAVMESH_BV_TREE) {\n            this.drawNavMeshBVTree(navMesh);\n        }\n    }\n\n    private _drawPoints(primitive: DebugDrawerPrimitive): void {\n        if (primitive.vertices.length === 0) {\n            return;\n        }\n\n        const matricesData = new Float32Array(16 * primitive.vertices.length);\n        const colorData = new Float32Array(4 * primitive.vertices.length);\n\n        for (let i = 0; i < primitive.vertices.length; i++) {\n            const [x, y, z, r, g, b, a] = primitive.vertices[i];\n\n            colorData[i * 4] = r;\n            colorData[i * 4 + 1] = g;\n            colorData[i * 4 + 2] = b;\n            colorData[i * 4 + 3] = a;\n\n            const matrix = Matrix.Translation(x, y, z);\n            matrix.copyToArray(matricesData, i * 16);\n        }\n\n        this._pointMesh.thinInstanceSetBuffer(\"matrix\", matricesData, 16);\n        this._pointMesh.thinInstanceSetBuffer(\"color\", colorData, 4);\n\n        this._pointMesh.parent = this.debugDrawerParentNode;\n    }\n\n    private _drawLines(primitive: DebugDrawerPrimitive, instance: Nullable<GreasedLineBaseMesh>): Nullable<GreasedLineBaseMesh> {\n        if (primitive.vertices.length === 0) {\n            return null;\n        }\n\n        const points: number[][] = [];\n        const colors: Color3[] = [];\n\n        for (let i = 0; i < primitive.vertices.length; i += 2) {\n            const [x1, y1, z1, r1, g1, b1] = primitive.vertices[i];\n            const [x2, y2, z2, r2, g2, b2] = primitive.vertices[i + 1];\n\n            points.push([x1, y1, z1, x2, y2, z2]);\n\n            colors.push(new Color3(r1, g1, b1));\n            colors.push(new Color3(r2, g2, b2));\n        }\n\n        const options = { ...this._lineMaterialOptions.greasedLineMeshOptions, points, instance: instance ?? undefined };\n        const materialOptions = { ...this._lineMaterialOptions.greasedLineMaterialOptions, colors };\n\n        const lines = CreateGreasedLine(NavigationDebugger.NAV_MESH_DEBUG_NAME_LINES, options, materialOptions);\n\n        lines.parent = this.debugDrawerParentNode;\n        this.lineMaterials.push(lines.material as StandardMaterial);\n\n        return lines;\n    }\n\n    private _drawTris(primitive: DebugDrawerPrimitive): void {\n        if (primitive.vertices.length === 0) {\n            return;\n        }\n\n        const positions = new Float32Array(primitive.vertices.length * 3);\n        const colors = new Float32Array(primitive.vertices.length * 4);\n\n        for (let i = 0; i < primitive.vertices.length; i++) {\n            const [x, y, z, r, g, b] = primitive.vertices[i];\n            positions[i * 3 + 0] = x;\n            positions[i * 3 + 1] = y;\n            positions[i * 3 + 2] = z;\n\n            colors[i * 4 + 0] = r;\n            colors[i * 4 + 1] = g;\n            colors[i * 4 + 2] = b;\n            colors[i * 4 + 3] = 1;\n        }\n\n        const vertexData = new VertexData();\n\n        vertexData.positions = positions;\n        vertexData.colors = colors;\n\n        const customMesh = new Mesh(NavigationDebugger.NAV_MESH_DEBUG_NAME_TRIS);\n        customMesh.isUnIndexed = true;\n        vertexData.applyToMesh(customMesh);\n\n        customMesh.material = this.triMaterial;\n        customMesh.parent = this.debugDrawerParentNode;\n    }\n\n    private _drawQuads(primitive: DebugDrawerPrimitive): void {\n        if (primitive.vertices.length === 0) {\n            return;\n        }\n\n        const positions: number[] = [];\n        const colors: number[] = [];\n        for (let i = 0; i < primitive.vertices.length; i += 4) {\n            const vertices = [\n                primitive.vertices[i],\n                primitive.vertices[i + 1],\n                primitive.vertices[i + 2],\n                primitive.vertices[i],\n                primitive.vertices[i + 2],\n                primitive.vertices[i + 3],\n            ];\n            for (const [x, y, z, r, g, b] of vertices) {\n                positions.push(x, y, z);\n                colors.push(r, g, b, 1);\n            }\n        }\n\n        const vertexData = new VertexData();\n\n        vertexData.positions = positions;\n        vertexData.colors = colors;\n\n        const customMesh = new Mesh(NavigationDebugger.NAV_MESH_DEBUG_NAME_QUADS);\n        customMesh.isUnIndexed = true;\n        vertexData.applyToMesh(customMesh);\n\n        customMesh.material = this.triMaterial;\n        customMesh.parent = this.debugDrawerParentNode;\n    }\n\n    /**\n     * Merge the debug meshes for better performance\n     */\n    private _joinDebugMeshes() {\n        const debugMeshes = this._scene.meshes.filter((m) => m.name === NavigationDebugger.NAV_MESH_DEBUG_NAME) as Mesh[];\n\n        // only indexed meshes can be merged\n        debugMeshes.forEach((m) => {\n            this._convertUnindexedToIndexed(m);\n        });\n\n        const merged = Mesh.MergeMeshes(debugMeshes, true);\n        if (merged) {\n            merged.name = NavigationDebugger.NAV_MESH_DEBUG_NAME;\n            merged.parent = this.debugDrawerParentNode;\n        }\n    }\n\n    private _convertUnindexedToIndexed(mesh: Mesh): void {\n        const vertexData = VertexData.ExtractFromMesh(mesh);\n        const positions = vertexData.positions;\n\n        if (!positions || positions.length % 9 !== 0) {\n            Logger.Warn(\"Mesh must be fully unindexed with triangles.\");\n            return;\n        }\n\n        const vertexCount = positions.length / 3;\n        const indices = Array.from({ length: vertexCount }, (_, i) => i);\n\n        const newVertexData = new VertexData();\n        newVertexData.positions = positions;\n        newVertexData.indices = indices;\n\n        newVertexData.applyToMesh(mesh, true);\n    }\n}\n"]}